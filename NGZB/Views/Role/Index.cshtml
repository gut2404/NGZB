@using NGZB.Controllers

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>角色管理</title>
    @Html.Partial("_JsCss")
    @{ var objTokenKey = SysController.__TokenKey(); }
    <script>
        var url_getroleinfo = '@Url.Action("__GetRoleInfo", "Role",objTokenKey)';
        var url_getroleuser = '@Url.Action("__GetRoleUser", "Role",objTokenKey)';
        var url_add = '@Url.Action("_Add", "Role",objTokenKey)';
        var url_edit = '@Url.Action("_Edit", "Role",objTokenKey)';
        var url_del = '@Url.Action("__Del", "Role", objTokenKey)';
    </script>
</head>
<body>
    <table id="dg" class="easyui-datagrid" title="角色管理" style="width:100%"
           data-options="@SysController.__PublishTool(),iconCls:'icon-my_user',fit:true,rownumbers:true,singleSelect:true,pagination:true,pageSize:@SysController.__PageSize(),loadFilter:pagerFilter,url: '@Url.Action("__Get","Role", objTokenKey)',toolbar:'#tb',fitColumns:true,striped:true,border:false">
        <thead>
            <tr style="width:100%">
                <th data-options="field:'ck',checkbox:true" align="center"></th>
                <th data-options="field:'roleID',width:60,align:'center',halign:'center'">角色ID</th>
                <th data-options="field:'roleName',width:150,align:'center',halign:'center'">角色名称</th>
                <th data-options="field:'roleInfo',width:400,align:'left',halign:'center'">角色功能描述</th>
                <th data-options="field:'roleItemCount',width:80,align:'center',halign:'center',formatter:roleformater">权限数量</th>
                <th data-options="field:'roleUserCount',width:80,align:'center',halign:'center',formatter:userformater">用户数量</th>
            </tr>
        </thead>
    </table>
    <div id="tb">
        <div style="margin:2px">
            <a href="javascript:;" class="easyui-linkbutton" iconAlign="@SysController.__IconAlign()" iconCls="icon-add" plain="@SysController.__ThemsType()" onclick="add();">新建角色</a>
            <a href="javascript:;" class="easyui-linkbutton" iconAlign="@SysController.__IconAlign()" iconCls="icon-edit" plain="@SysController.__ThemsType()" onclick="edit();">业务管理</a>
            <a href="javascript:;" class="easyui-linkbutton" iconAlign="@SysController.__IconAlign()" iconCls="icon-remove" plain="@SysController.__ThemsType()" onclick="delconfirm();">删除角色</a>
            <div class="fa fa-file-text-o mylabel" style="padding-left:15px"> 输入查询条件：</div>
            <input id="searchkey" class="easyui-textbox" style="width:160px;height:25px">
            <select id="f" class="easyui-combobox" name="state" data-options="panelHeight:'auto'" style="width:100px;height:26px;">
                <option value="1" selected>按角色名称</option>
                <option value="2">按权限名称</option>
                <option value="3">按用户姓名</option>
                <option value="4">按用户名</option>
            </select>
            <a href="javascript:;" class="easyui-linkbutton c2" iconCls="icon-search" plain="@SysController.__ThemsType()" onclick="search();">查询</a>
        </div>
    </div>
    @Html.Partial("_PublishTool")
    <script src="~/JsApp/Role/index.js"></script>
</body>
</html>